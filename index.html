<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Isbn reader</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@undecaf/zbar-wasm@0.9.15/dist/index.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@undecaf/barcode-detector-polyfill@0.9.20/dist/index.js"></script>
  <link rel="manifest" href="manifest.json">
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
    <script src="index.js"></script>

    <div class="header">
      Mode actuel: <span id="current-mode"></span>
      <button onclick="changeMode('drawback');">Achat</button>
      <button onclick="changeMode('store');">Inventaire</button>
      <button onclick="changeMode('offline');">Hors-ligne</button>
    </div>

    <div id="main" class="container">
      <div class="token-section">
        <span>Api Token:</span>
        <input type="text" id="token" class="input-field"/>
      </div>

      <video id="video" autoplay></video>

      <div class="form-section">
        <div class="step">
          <input type="text" id="barcode" class="input-field" placeholder="Scan barcode..." />
          <button type="button" id="search" class="btn store" onclick="searchBook();">Search</button>
        </div>

        <div class="step">
          <select name="sheet-name" id="sheet-name" required>
            <option value="">Select sheet</option>
            <option value="salle">salle</option>
            <option value="bateau">bateau</option>
            <option value="autre">autre</option>
          </select>
          <input type="text" id="title" class="input-field store" placeholder="Title" />
          <button type="button" id="save" class="btn store" onclick="pushBook();">Save</button>
          <button type="button" id="drawback" class="btn drawback" onclick="drawbackBookOffline();">Drawback</button>
        </div>
      </div>
    </div>

    <div id="offline" class="container">
      <div id="local-storage-data"></div>
      <button type="button" id="drawback-from-local-storage" class="btn" onclick="drawbackFromLocalStorage();">Save all</button>
      <button type="button" id="clear" class="btn" onclick="clearLocalStorage();">Clear</button>
    </div>
</body>
</html>
